(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{483:function(t,s,a){"use strict";a.r(s);var n=a(44),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"æ¶ˆæ¯æœªè¯»ä¹‹ç‚¹ä¸å®Œçš„å°çº¢ç‚¹-node-websocket"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯æœªè¯»ä¹‹ç‚¹ä¸å®Œçš„å°çº¢ç‚¹-node-websocket"}},[t._v("#")]),t._v(" æ¶ˆæ¯æœªè¯»ä¹‹ç‚¹ä¸å®Œçš„å°çº¢ç‚¹(Node+Websocket)")]),t._v(" "),a("h1",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),a("p",[t._v("https://github.com/hua1995116/webchat")]),t._v(" "),a("p",[t._v("è¿™ä¸ªé¡¹ç›®æœ¬æ¥æ˜¯æˆ‘å­¦ç”Ÿæ—¶ä»£ä¸ºäº†æ‰¾å·¥ä½œçš„ä¸€ä¸ªç»ƒæ‰‹é¡¹ç›®ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°å—åˆ°äº†å¾ˆå¤šçš„å…³æ³¨ï¼Œstarä¹Ÿå¿«è¦ç ´Käº†ï¼Œè¿™ä¹Ÿæ¿€åŠ±ç€æˆ‘ä¸æ–­å»å®Œå–„ä»–ï¼Œä¸€æ–¹é¢æ˜¯å¾—å¯¹å¾—èµ·å…³æ³¨å­¦ä¹ çš„äººï¼Œå¦ä¸€æ–¹é¢ä¹Ÿæ˜¯æƒ³è®©è‡ªå·±èƒ½è¿‡é€šè¿‡æ…¢æ…¢å®Œå–„ä¸€ä¸ªé¡¹ç›®æ¥è®©è‡ªå·±æé«˜ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s3.qiufeng.blue/blog/1568533450654.jpg",alt:""}})]),t._v(" "),a("p",[t._v("ä»Šå¤©ç»™å¤§å®¶å¸¦æ¥çš„æ˜¯åŸºäºWebsocket+Node+Redisæœªè¯»æ¶ˆæ¯åŠŸèƒ½ï¼Œå¯èƒ½æ›´åŠ åå‘äºå®æˆ˜æ–¹å‘ï¼Œéœ€è¦å¯¹Websocketå’ŒNodeæœ‰ä¸€äº›äº†è§£ï¼Œå½“ç„¶ä¸äº†è§£ä¹Ÿå¯ä»¥çœ‹çœ‹æ•ˆæœï¼Œæ•ˆæœé“¾æ¥ï¼ˆ https://www.qiufengh.com/ ï¼‰è¯´ä¸å®šä¼šæ¿€èµ·ä½ å­¦ä¹ çš„åŠ¨åŠ›~")]),t._v(" "),a("p",[t._v("ä¸‹é¢æˆ‘é€šè¿‡è‡ªå·±æ€è€ƒçš„æ–¹å¼æ¥è¿›è¡Œè®²è§£ï¼Œä»£ç å¯èƒ½è®²çš„ä¸å¤šï¼Œä½†æ˜¯æ ¸å¿ƒé€»è¾‘éƒ½è¿›è¡Œäº†è®²è§£ï¼Œä¸Šé¢ä¹Ÿæœ‰githubåœ°å€ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è¿›è¡Œè¯¦ç»†åœ°æŸ¥çœ‹ã€‚è‡ªå·±çš„ideaæˆ–å¤šæˆ–å°‘ä¼šæœ‰ä¸€äº›ä¸æˆç†Ÿï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯åšç€è„¸çš®å‡ºæ¥æŠ›å¤´éœ²è„¸ï¼Œå¦‚æœæœ‰ä»€ä¹ˆå»ºè®®è¿˜è¯·å¤§å®¶å¤šå¤šæå‡ºï¼Œèƒ½è®©æˆ‘æ›´åŠ å®Œå–„è¿™ä¸ªä½œå“ã€‚")]),t._v(" "),a("h1",{attrs:{id:"è®¾è®¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾è®¡"}},[t._v("#")]),t._v(" è®¾è®¡")]),t._v(" "),a("p",[t._v("é¦–å…ˆå¯¹äºæ¶ˆæ¯æœªè¯»ï¼Œå¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰ï¼Œå°±æ˜¯å„ç§èŠå¤©çš„æ—¶å€™ï¼Œå‡ºç°çš„çº¢ç‚¹ç‚¹ï¼Œä¸”æ˜¯å¼ºè¿«ç—‡è€…å¿…é¡»æ¸…ç†çš„ä¸€ä¸ªå°ç‚¹ç‚¹ï¼Œå¦‚ğŸ‘‡æ‰€ç¤ºã€‚æˆ‘ä¼šå¸¦å¤§å®¶å®ç°ä¸€ä¸ªè¿™æ ·çš„åŠŸèƒ½ã€‚\n"),a("img",{attrs:{src:"https://s3.qiufeng.blue/blog/1568533450630.jpg",alt:""}})]),t._v(" "),a("p",[t._v("ç”±äºä¸€å¯¹ä¸€çš„æ–¹å¼æ›´åŠ ç®€å•ï¼Œæˆ‘ç°åœ¨åªè€ƒè™‘å¤šå¯¹å¤šçš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªæˆ¿é—´ï¼ˆä¹Ÿå¯ä»¥ç§°ä¸ºç¾¤ç»„ï¼Œåé¢éƒ½ä»¥æˆ¿é—´ç§°å‘¼ï¼‰ä¸­çš„æœªè¯»æ¶ˆæ¯ï¼Œé‚£ä¹ˆè®¾è®¡è¿™æ ·çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œé¦–ç›¸æˆ‘å°†å®ƒåˆ†æˆäº†3ç§ç”¨æˆ·ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("ç¦»çº¿ç”¨æˆ·")]),t._v(" "),a("li",[t._v("åœ¨çº¿ç”¨æˆ·")]),t._v(" "),a("li",[t._v("åœ¨çº¿ç”¨æˆ·ä¸”è¿›å…¥ç¾¤ç»„çš„ç”¨æˆ·")])]),t._v(" "),a("h3",{attrs:{id:"ç¦»çº¿ç”¨æˆ·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¦»çº¿ç”¨æˆ·"}},[t._v("#")]),t._v(" ç¦»çº¿ç”¨æˆ·")]),t._v(" "),a("p",[t._v("è¿™ç§åœºæ™¯å°±ç›¸å½“äºæˆ‘ä»¬é€€å‡ºå¾®ä¿¡ï¼Œä½†æ˜¯åˆ«äººåœ¨æˆ¿é—´é‡Œå‘çš„æ¶ˆæ¯ï¼Œå½“æˆ‘ä»¬å†æ¬¡æ‰“å¼€çš„æ—¶å€™ä¾ç„¶èƒ½å¤Ÿçœ‹åˆ°æˆ¿é—´å¢é•¿çš„æœªè¯»æ¶ˆæ¯ã€‚")]),t._v(" "),a("h3",{attrs:{id:"åœ¨çº¿ç”¨æˆ·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨çº¿ç”¨æˆ·"}},[t._v("#")]),t._v(" åœ¨çº¿ç”¨æˆ·")]),t._v(" "),a("p",[t._v("è¿™ç§åœºæ™¯å°±æ˜¯ç›¸å½“æˆ‘ä»¬åœç•™åœ¨èŠå¤©åˆ—è¡¨é¡µé¢ï¼Œå½“ä»–äººåœ¨æˆ¿é—´ä¸­å‘é€æ¶ˆæ¯ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå®æ—¶çš„çœ‹åˆ°æœªè¯»æ¶ˆæ¯çš„æ¡æ•°åœ¨å¢é•¿ã€‚")]),t._v(" "),a("p",[t._v("åœºæ™¯ç¤ºä¾‹ã€‚\n"),a("img",{staticStyle:{width:"500px","text-align":"center"},attrs:{src:"https://user-gold-cdn.xitu.io/2018/11/19/16729eb68b18a543?w=2000&h=2000&f=png&s=231925"}})]),t._v(" "),a("h3",{attrs:{id:"åœ¨çº¿ç”¨æˆ·ä¸”åœ¨æˆ¿é—´çš„ç”¨æˆ·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨çº¿ç”¨æˆ·ä¸”åœ¨æˆ¿é—´çš„ç”¨æˆ·"}},[t._v("#")]),t._v(" åœ¨çº¿ç”¨æˆ·ä¸”åœ¨æˆ¿é—´çš„ç”¨æˆ·")]),t._v(" "),a("p",[t._v("è¿™ç§åœºæ™¯å…¶å®å°±æ¯”è¾ƒæ™®é€šäº†ï¼Œå½“åˆ«äººå‘é€æ–°çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬å°±èƒ½å®æ—¶çœ‹åˆ°ï¼Œæ­¤æ—¶æ˜¯ä¸éœ€è¦æ ‡è®°æœªè¯»æ¶ˆæ¯çš„ã€‚")]),t._v(" "),a("p",[t._v("åœºæ™¯ç¤ºä¾‹ã€‚\n"),a("img",{staticStyle:{width:"500px","text-align":"center"},attrs:{src:"https://user-gold-cdn.xitu.io/2018/11/19/16729ebe4cc2ff41?w=2000&h=2000&f=png&s=500000"}})]),t._v(" "),a("h1",{attrs:{id:"æµç¨‹å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµç¨‹å›¾"}},[t._v("#")]),t._v(" æµç¨‹å›¾")]),t._v(" "),a("p",[t._v("ä¸»è¦æµç¨‹å¯ä»¥ç®€åŒ–ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸ºç”¨æˆ·ï¼Œæ¨é€åŠŸèƒ½ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ã€‚")]),t._v(" "),a("p",[t._v("ç”¨æˆ·å¯ä»¥æ˜¯æ¶ˆæ¯æä¾›è€…ä¹Ÿå¯ä»¥æ˜¯æ¶ˆæ¯æ¥å—è€…ã€‚ä»¥ä¸‹å°±æ˜¯è¿™ä¸ªè¿‡ç¨‹ã€‚\n"),a("img",{attrs:{src:"https://s3.qiufeng.blue/blog/1568533450629.png",alt:"image"}})]),t._v(" "),a("p",[t._v("å½“ç„¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ¶‰åŠæ¯”è¾ƒå¤æ‚çš„æ¶ˆæ¯çš„å­˜å‚¨ï¼Œå¦‚ä½•æ¨é€ï¼Œè·å–ï¼ŒåŒæ­¥ç­‰é—®é¢˜ï¼Œä¸‹é¢å°±æ˜¯å¯¹è¿™ä¸ªè¿‡ç¨‹è¿›è¡Œè¯¦ç»†çš„æè¿°")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s3.qiufeng.blue/blog/1568533450696.png",alt:"image"}})]),t._v(" "),a("p",[a("strong",[t._v("å›¾ä¸Šçš„æµç¨‹è§£é‡Š")])]),t._v(" "),a("p",[t._v("A. å­˜å‚¨åœ¨Nodeç¼“å­˜ä¸­çš„æˆ¿é—´ç”¨æˆ·åˆ—è¡¨ï¼ˆæ­¤å¤„ä¿¡æ¯ä¹Ÿå¯ä»¥å­˜åœ¨Redisä¸­ï¼‰")]),t._v(" "),a("p",[t._v("B. å­˜å‚¨åœ¨Redisä¸­çš„æœªè¯»æ¶ˆæ¯åˆ—è¡¨")]),t._v(" "),a("p",[t._v("C. å­˜å‚¨åœ¨MongoDBä¸­çš„æœªè¯»æ¶ˆæ¯åˆ—è¡¨")]),t._v(" "),a("ol",[a("li",[t._v("ç”¨æˆ·1è¿›å…¥é¦–é¡µã€‚")]),t._v(" "),a("li",[t._v("ç”¨æˆ·1è¿›å…¥æˆ¿é—´ï¼Œé‡ç½®ç”¨æˆ·åœ¨æˆ¿é—´1çš„æœªè¯»æ¶ˆæ¯ï¼Œè§¦å‘æ›´æ–°æ¨¡å—å»æ›´æ–°Bæœªè¯»æ¶ˆæ¯åˆ—è¡¨ã€‚")]),t._v(" "),a("li",[t._v("ç”¨æˆ·1å‘å‘æˆ¿é—´Bä¸­å‘é€äº†ä¸€æ¡æ¶ˆæ¯ã€‚")]),t._v(" "),a("li",[t._v("åç«¯éœ€è¦å»è·å–æˆ¿é—´ç”¨æˆ·åˆ—è¡¨ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦åœ¨æˆ¿é—´ï¼Ÿ")]),t._v(" "),a("li",[t._v("æ˜¯ï¼Œå› ä¸ºåœ¨æˆ¿é—´ä¸­çš„ç”¨æˆ·å·²ç»è¯»å–äº†æœ€æ–°æ¶ˆæ¯ï¼Œä¸éœ€è¦è¿›è¡Œè®¡æ•°ã€‚")]),t._v(" "),a("li",[t._v("å¦ï¼Œè‹¥ç”¨æˆ·ä¸åœ¨æˆ¿é—´ä¸­ï¼Œæ›´æ–°å…¶çš„æœªè¯»æ¶ˆæ¯è®¡æ•°")]),t._v(" "),a("li",[t._v("ä»ç¼“å­˜ä¸­è·å–ç”¨æˆ·çš„æ¶ˆæ¯è¿›è¡Œåˆ†å‘ã€‚")]),t._v(" "),a("li",[t._v("ç”¨æˆ·2ç™»å½•æˆ‘ä»¬çš„é¡¹ç›®ï¼Œä»ç¦»çº¿ç”¨æˆ·å˜æˆäº†åœ¨çº¿ç”¨æˆ·ã€‚")]),t._v(" "),a("li",[t._v("ç”¨æˆ·2ç™»å½•æ—¶ï¼Œè§¦å‘æŸ¥è¯¢æ¨¡å—ï¼Œå»è·å–å…¶å½“å‰åœ¨å„ä¸ªæˆ¿é—´æœªè¯»æ¶ˆæ¯æƒ…å†µã€‚")]),t._v(" "),a("li",[t._v("æŸ¥è¯¢æ¨¡å—å»æŸ¥è¯¢Redisä¸­çš„æœªè¯»æ¶ˆæ¯ï¼Œè‹¥Redisä¸­æ²¡æœ‰æ•°æ®ï¼Œä¼šç»§ç»­å‘æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œè‹¥æ²¡æœ‰åˆ™è¿”å›0ç»™ç”¨æˆ·ã€‚")]),t._v(" "),a("li",[t._v("Redisç¼“å­˜å°†ä¼šæ¯åˆ†é’Ÿå’Œæ•°æ®åº“åŒæ­¥ä¸€æ¬¡ï¼Œä¿è¯æ•°æ®çš„æŒä¹…åŒ–ã€‚")])]),t._v(" "),a("h1",{attrs:{id:"ç¯å¢ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¯å¢ƒ"}},[t._v("#")]),t._v(" ç¯å¢ƒ")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Node: 8.5.0 +")])]),t._v(" "),a("li",[a("p",[t._v("Npm: 5.3.0 +")])]),t._v(" "),a("li",[a("p",[t._v("MongoDB")])]),t._v(" "),a("li",[a("p",[t._v("Redis")])])]),t._v(" "),a("h2",{attrs:{id:"ä¸ºä»€ä¹ˆæ˜¯redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆæ˜¯redis"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆæ˜¯redis ï¼Ÿ")]),t._v(" "),a("h3",{attrs:{id:"ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»"}},[t._v("#")]),t._v(" ä»‹ç»")]),t._v(" "),a("p",[t._v("Redis æ˜¯äº’è”ç½‘æŠ€æœ¯é¢†åŸŸä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„å­˜å‚¨ä¸­é—´ä»¶ï¼Œå®ƒæ˜¯ã€ŒRemote Dictionary Serviceã€çš„é¦–å­—æ¯ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„key-valueæ•°æ®åº“ã€‚å…·æœ‰æ€§èƒ½æé«˜ï¼Œä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼ŒåŸå­ï¼Œä¸°å¯Œçš„ç‰¹æ€§ç­‰ä¼˜åŠ¿ã€‚")]),t._v(" "),a("p",[t._v("redis å…·æœ‰ä»¥ä¸‹5ç§æ•°æ®ç»“æ„")]),t._v(" "),a("ul",[a("li",[t._v("Stringâ€”â€”å­—ç¬¦ä¸²")]),t._v(" "),a("li",[t._v("Hashâ€”â€”å­—å…¸")]),t._v(" "),a("li",[t._v("Listâ€”â€”åˆ—è¡¨")]),t._v(" "),a("li",[t._v("Setâ€”â€”é›†åˆ")]),t._v(" "),a("li",[t._v("Sorted Setâ€”â€”æœ‰åºé›†åˆ")])]),t._v(" "),a("p",[t._v("æƒ³è¦æ·±å…¥äº†è§£è¿™5ç§å­˜å‚¨ç»“æ„å¯ä»¥æŸ¥çœ‹"),a("a",{attrs:{href:"http://www.runoob.com/w3cnote/redis-use-scene.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.runoob.com/w3cnote/redis-use-scene.html"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"å®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[t._v("#")]),t._v(" å®‰è£…")]),t._v(" "),a("p",[a("strong",[t._v("windows")])]),t._v(" "),a("blockquote",[a("p",[t._v("http://www.cnblogs.com/jaign/articles/7920588.html")])]),t._v(" "),a("p",[a("strong",[t._v("mac")])]),t._v(" "),a("blockquote",[a("p",[t._v("brew install redis")])]),t._v(" "),a("p",[a("strong",[t._v("ubuntu")])]),t._v(" "),a("blockquote",[a("p",[t._v("apt-get install redis")])]),t._v(" "),a("p",[a("strong",[t._v("redhat")])]),t._v(" "),a("blockquote",[a("p",[t._v("yum install redis")])]),t._v(" "),a("p",[a("strong",[t._v("centos")])]),t._v(" "),a("blockquote",[a("p",[t._v("https://www.cnblogs.com/zuidongfeng/p/8032505.html")])]),t._v(" "),a("p",[a("strong",[t._v("è¿è¡Œå®¢æˆ·ç«¯")])]),t._v(" "),a("blockquote",[a("p",[t._v("redis-cli")])]),t._v(" "),a("h3",{attrs:{id:"å¯è§†åŒ–å·¥å…·å®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯è§†åŒ–å·¥å…·å®‰è£…"}},[t._v("#")]),t._v(" å¯è§†åŒ–å·¥å…·å®‰è£…")]),t._v(" "),a("p",[a("strong",[t._v("windows")])]),t._v(" "),a("blockquote",[a("p",[t._v("https://pan.baidu.com/s/1kU8sY3P")])]),t._v(" "),a("p",[a("strong",[t._v("mac")])]),t._v(" "),a("blockquote",[a("p",[t._v("https://pan.baidu.com/s/10vpdhw7YfDD7G4yZCGtqQg")])]),t._v(" "),a("p",[a("strong",[t._v("æºç ç¼–è¯‘")])]),t._v(" "),a("blockquote",[a("p",[t._v("http://docs.redisdesktop.com/en/latest/install/#build-from-source")])]),t._v(" "),a("h3",{attrs:{id:"é¡¹ç›®ä¸­çš„æ•°æ®ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡¹ç›®ä¸­çš„æ•°æ®ç»“æ„"}},[t._v("#")]),t._v(" é¡¹ç›®ä¸­çš„æ•°æ®ç»“æ„")]),t._v(" "),a("p",[t._v("åœ¨æœ¬é¡¹ç›®ä¸­æˆ‘ä»¬ç”¨String æ¥å­˜å‚¨ç”¨æˆ·çš„æœªè¯»æ¶ˆæ¯è®°å½•ï¼Œåˆ©ç”¨å…¶incrå‘½ä»¤æ¥è¿›è¡Œè‡ªå¢æ“ä½œã€‚åˆ©ç”¨Hashç»“æ„ æ¥å­˜å‚¨æˆ‘ä»¬websocketè¿æ¥æ—¶ç”¨æˆ·çš„socket-idã€‚")]),t._v(" "),a("p",[t._v("ä¸Šé¢è¯´äº†è®¡æ•°åˆ©ç”¨Redisçš„Stirngæ•°æ®ç»“æ„,\nåœ¨Redis æˆ‘ä»¬çš„è®¡æ•°key-valueæ˜¯è¿™æ ·çš„ã€‚")]),t._v(" "),a("p",[t._v("username-roomid - number")]),t._v(" "),a("p",[t._v("ä¾‹å­: hua1995116-room1 - 1")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çš„Socket-idåˆ™ä¸ºHashç»“æ„ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("socketId\n"),a("ul",[a("li",[t._v("username - socketid")])])])]),t._v(" "),a("p",[t._v("ä¾‹å­:")]),t._v(" "),a("ul",[a("li",[t._v("socketId\n"),a("ul",[a("li",[t._v("hua1995116 - En4ilYqDpk-P5_tzAAAG")])])])]),t._v(" "),a("h1",{attrs:{id:"mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb"}},[t._v("#")]),t._v(" MongoDB")]),t._v(" "),a("p",[t._v("æœ¬é¡¹ç›®ä¸€å¼€å§‹å°±ä½¿ç”¨äº†MongoDBï¼ŒNodeå¤©ç„¶æ­é…çš„MongoDBçš„ä¼˜åŠ¿ï¼Œè¿™é‡Œå°±ä¸å†è¿›è¡Œè®²è§£ï¼ŒNodeæ“ä½œMongoDBçš„æ¨¡å—å«åšmongooseï¼Œå…·ä½“çš„å‚æ•°æ–¹æ³•ï¼Œå¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://mongoosejs.com/docs/4.x/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://mongoosejs.com/docs/4.x/index.html"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("MongoDBä¸‹è½½åœ°å€")]),t._v(" "),a("p",[t._v("https://www.mongodb.com/download-center/community")]),t._v(" "),a("p",[t._v("å¯è§†åŒ–ä¸‹è½½åœ°å€")]),t._v(" "),a("p",[t._v("https://github.com/mrvautin/adminMongo")]),t._v(" "),a("h1",{attrs:{id:"websocket-node-å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocket-node-å®ç°"}},[t._v("#")]),t._v(" websocket + node å®ç°")]),t._v(" "),a("p",[t._v("ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€å¼€å§‹çš„3ç§ç”¨æˆ·çš„åœºæ™¯æ¥å…·ä½“è¯´æ˜å®ç°çš„ä»£ç ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç¦»çº¿ç”¨æˆ·å˜æˆåœ¨çº¿ç”¨æˆ·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¦»çº¿ç”¨æˆ·å˜æˆåœ¨çº¿ç”¨æˆ·"}},[t._v("#")]),t._v(" ç¦»çº¿ç”¨æˆ·å˜æˆåœ¨çº¿ç”¨æˆ·")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s3.qiufeng.blue/blog/1568533450632.png",alt:"image"}})]),t._v(" "),a("p",[t._v("å®¢æˆ·ç«¯åœ¨ç™»å½•æ—¶ä¼šå‘é€ä¸€ä¸ªloginäº‹ä»¶ï¼Œä»¥ä¸‹æ˜¯åç«¯é€»è¾‘ã€‚")]),t._v(" "),a("div",{staticClass:"language-Javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å»ºç«‹è¿æ¥")]),t._v("\nsocket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'login'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socket login!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" roomInfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–socketId")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updatehCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socketId'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" roomList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" roomid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" roomList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾ªç¯æ‰€æœ‰æˆ¿é—´")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCacheById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°æ®åº“æŸ¥æ•°æ®ï¼Œ è‹¥ç¼“å­˜ä¸­æ²¡æœ‰æ•°æ®ï¼Œæ›´æ–°ç¼“å­˜")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("roomInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        roomInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("roomInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        roomInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šçŸ¥è‡ªå·±æœ‰å¤šå°‘æ¡æœªè¯»æ¶ˆæ¯")]),t._v("\n    socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'count'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" roomInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ç”¨æˆ·ä»ç¦»çº¿å˜æˆåœ¨çº¿çŠ¶æ€ï¼Œå»ºç«‹socketè¿æ¥æ—¶å€™ï¼Œä¼šå‘é€ä¸€ä¸ªloginäº‹ä»¶, æœåŠ¡ç«¯å°±ä¼šå»æŸ¥è¯¢å½“å‰ç”¨æˆ·çš„æœªè¯»æ¶ˆæ¯æƒ…å†µï¼Œä»MongoDBå’ŒRedisåˆ†åˆ«æŸ¥è¯¢ï¼Œè‹¥Redisä¸­æ²¡æœ‰æ•°æ®ï¼Œåˆ™åƒæ•°æ®åº“æŸ¥è¯¢ã€‚")]),t._v(" "),a("h3",{attrs:{id:"åœ¨çº¿ç”¨æˆ·è¿›å…¥æˆ¿é—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨çº¿ç”¨æˆ·è¿›å…¥æˆ¿é—´"}},[t._v("#")]),t._v(" åœ¨çº¿ç”¨æˆ·è¿›å…¥æˆ¿é—´")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s3.qiufeng.blue/blog/1568533451348.png",alt:"image"}})]),t._v(" "),a("p",[t._v("å®¢æˆ·ç«¯åœ¨åŠ å…¥æˆ¿é—´è¯´è¯ä¼šå‘é€ä¸€ä¸ªroomäº‹ä»¶ï¼Œä»¥ä¸‹æ˜¯åç«¯é€»è¾‘")]),t._v(" "),a("div",{staticClass:"language-Javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŠ å…¥æˆ¿é—´")]),t._v("\nsocket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'room'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socket add room!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("roomid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–user")]),t._v("\n    users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      socketid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–user")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updatehCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socketId'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›å…¥æˆ¿é—´é»˜è®¤ç½®ç©ºï¼Œè¡¨ç¤ºå…¨éƒ¨å·²è¯»")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resetCacheById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›è¡Œä¼šè¯")]),t._v("\n    socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" onlineUsers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" item "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      onlineUsers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      onlineUsers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    io"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("to")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'room'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onlineUsers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" åŠ å…¥äº† ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("æœåŠ¡ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘é€çš„roomäº‹ä»¶ï¼Œæ¥é‡ç½®è¯¥ç”¨æˆ·æˆ¿é—´å†…çš„æœªè¯»æ¶ˆæ¯ï¼Œå¹¶ä¸”è¯¥ç”¨æˆ·åŠ å…¥æˆ¿é—´åˆ—è¡¨ã€‚")]),t._v(" "),a("h3",{attrs:{id:"åœ¨æˆ¿é—´ä¸­çš„ç”¨æˆ·å‘é€æ¶ˆæ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨æˆ¿é—´ä¸­çš„ç”¨æˆ·å‘é€æ¶ˆæ¯"}},[t._v("#")]),t._v(" åœ¨æˆ¿é—´ä¸­çš„ç”¨æˆ·å‘é€æ¶ˆæ¯")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s3.qiufeng.blue/blog/1568533450721.png",alt:"image"}})]),t._v(" "),a("p",[t._v("å®¢æˆ·ç«¯åœ¨åŠ å…¥æˆ¿é—´è¯´è¯ä¼šå‘é€ä¸€ä¸ªmessageäº‹ä»¶ï¼Œä»¥ä¸‹æ˜¯åç«¯é€»è¾‘")]),t._v(" "),a("div",{staticClass:"language-Javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("msgObj")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socket message!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å‘æ‰€æœ‰å®¢æˆ·ç«¯å¹¿æ’­å‘å¸ƒçš„æ¶ˆæ¯")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" msgObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¤å¤„ä¸ºå‘æ•°æ®åº“å­˜å…¥æ¶ˆæ¯")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" usersList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gethAllCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socketId'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨")]),t._v("\n    usersList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦åœ¨æˆ¿é—´å†…")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("inrcCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" socketid "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gethCacheById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socketId'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCacheById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" roomInfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        roomInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("roomid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("to")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("socketid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'count'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" roomInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])])]),a("p",[t._v("æ­¤æ­¥éª¤ç•¥å¾®å¤æ‚ï¼Œä¸»è¦æ˜¯æˆ¿é—´ä¸­çš„ç”¨æˆ·å‘é€æ¶ˆæ¯ï¼Œéœ€è¦ç»è¿‡åˆ¤æ–­ï¼Œå“ªéƒ¨åˆ†ç”¨æˆ·éœ€è¦è®¡æ•°ï¼Œå“ªéƒ¨åˆ†ç”¨æˆ·ä¸éœ€è¦è®¡æ•°ï¼Œä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸åœ¨æˆ¿é—´å†…çš„ç”¨æˆ·éƒ½éœ€è¦è®¡æ•°ã€‚")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥è¿˜éœ€è¦æ¨é€ï¼Œé‚£ä¹ˆå“ªäº›ç”¨æˆ·éœ€è¦å®æ—¶åœ°æ¨é€å‘¢ï¼Œå¯¹çš„ï¼Œå°±æ˜¯é‚£äº›åœ¨çº¿ç”¨æˆ·å¹¶ä¸”ä¸åœ¨æˆ¿é—´å†…çš„ç”¨æˆ·ã€‚å› æ­¤åœ¨è¿™é‡Œä¹Ÿéœ€è¦ä¸€ä¸ªåˆ¤æ–­ã€‚")]),t._v(" "),a("p",[t._v("è¿™æ ·å°±å®Œç¾äº†ï¼Œèƒ½å¤Ÿç²¾ç¡®åœ°ç»™ç”¨æˆ·å¢åŠ è®¡æ•°ï¼Œå¹¶ä¸”ç²¾ç¡®åœ°æ¨é€ç»™éœ€è¦çš„ç”¨æˆ·ã€‚")]),t._v(" "),a("h1",{attrs:{id:"åè®°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åè®°"}},[t._v("#")]),t._v(" åè®°")]),t._v(" "),a("p",[t._v("åœ¨çº¿æ¼”ç¤º: https://www.qiufengh.com/")]),t._v(" "),a("p",[t._v("githubåœ°å€: https://github.com/hua1995116/webchat")]),t._v(" "),a("p",[t._v("å¦‚æœæœ‰ä»€ä¹ˆå»ºè®®æˆ–è€…ç–‘é—®å¯ä»¥åŠ å…¥å¾®ä¿¡ç¾¤è¿›è¡Œæ¢è®¨ã€‚")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{width:"300px"},attrs:{src:"https://user-gold-cdn.xitu.io/2018/11/19/16729ed23f9be3a2?w=674&h=896&f=jpeg&s=64232"}})]),t._v(" "),a("h1",{attrs:{id:"æ›´å¤šè¯·å…³æ³¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ›´å¤šè¯·å…³æ³¨"}},[t._v("#")]),t._v(" æ›´å¤šè¯·å…³æ³¨")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s3.qiufeng.blue/blog/gongzhonghao.png",alt:""}})])])}),[],!1,null,null,null);s.default=e.exports}}]);