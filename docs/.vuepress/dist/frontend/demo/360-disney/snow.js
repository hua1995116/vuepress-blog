(function(g,y,q){function w(a,o,f){var h=a.runtimeStyle&&a.runtimeStyle[o],c,l=a.style;return !/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(f)&&/^-?\d/.test(f)&&(c=l.left,h&&(a.runtimeStyle.left=a.currentStyle.left),l.left=o==="fontSize"?"1em":f||0,f=l.pixelLeft+"px",l.left=c,h&&(a.runtimeStyle.left=h)),/^(thin|medium|thick)$/i.test(f)?f:Math.round(parseFloat(f))+"px"}function m(a){return parseInt(a,10)}function x(a,h,c,f){a=(a||"").split(","),a=a[f||0]||a[0]||"auto",a=j.Util.trimText(a).split(" ");if(c!=="backgroundSize"||!!a[0]&&!a[0].match(/cover|contain|auto/)){a[0]=a[0].indexOf("%")===-1?w(h,c+"X",a[0]):a[0];if(a[1]===q){if(c==="backgroundSize"){return a[1]="auto",a}a[1]=a[0]}a[1]=a[1].indexOf("%")===-1?w(h,c+"Y",a[1]):a[1]}return a}function v(B,J,F,H,D,I){var G=j.Util.getCSS(J,B,D),K,f,E,A;G.length===1&&(A=G[0],G=[],G[0]=A,G[1]=A);if(G[0].toString().indexOf("%")!==-1){E=parseFloat(G[0])/100,f=F.width*E,B!=="backgroundSize"&&(f-=(I||H).width*E)}else{if(B==="backgroundSize"){if(G[0]==="auto"){f=H.width}else{if(/contain|cover/.test(G[0])){var C=j.Util.resizeBounds(H.width,H.height,F.width,F.height,G[0]);f=C.width,K=C.height}else{f=parseInt(G[0],10)}}}else{f=parseInt(G[0],10)}}return G[1]==="auto"?K=f/H.width*H.height:G[1].toString().indexOf("%")!==-1?(E=parseFloat(G[1])/100,K=F.height*E,B!=="backgroundSize"&&(K-=(I||H).height*E)):K=parseInt(G[1],10),[f,K]}function z(a,f){var c=[];return{storage:c,width:a,height:f,clip:function(){c.push({type:"function",name:"clip",arguments:arguments})},translate:function(){c.push({type:"function",name:"translate",arguments:arguments})},fill:function(){c.push({type:"function",name:"fill",arguments:arguments})},save:function(){c.push({type:"function",name:"save",arguments:arguments})},restore:function(){c.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){c.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){c.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var h=[];return c.push({type:"function",name:"drawShape",arguments:h}),{moveTo:function(){h.push({name:"moveTo",arguments:arguments})},lineTo:function(){h.push({name:"lineTo",arguments:arguments})},arcTo:function(){h.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){h.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){h.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){c.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){c.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(h,i){return c.push({type:"variable",name:h,arguments:i}),i}}}function b(a){return{zindex:a,children:[]}}var j={},p,d,k;j.Util={},j.Util.log=function(a){j.logging&&g.console&&g.console.log&&g.console.log(a)},j.Util.trimText=function(a){return function(c){return a?a.apply(c):((c||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),j.Util.asFloat=function(a){return parseFloat(a)},function(){var a=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,c=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;j.Util.parseTextShadows=function(f){if(!f||f==="none"){return[]}var l=f.match(a),e=[];for(var t=0;l&&t<l.length;t++){var h=l[t].match(c);e.push({color:h[0],offsetX:h[1]?h[1].replace("px",""):0,offsetY:h[2]?h[2].replace("px",""):0,blur:h[3]?h[3].replace("px",""):0})}return e}}(),j.Util.parseBackgroundImage=function(D){var N=" \r\n	",I,L,G,M,J,O=[],A,E=0,H=0,B,F,K=function(){I&&(L.substr(0,1)==='"'&&(L=L.substr(1,L.length-2)),L&&F.push(L),I.substr(0,1)==="-"&&(M=I.indexOf("-",1)+1)>0&&(G=I.substr(0,M),I=I.substr(M)),O.push({prefix:G,method:I.toLowerCase(),value:J,args:F})),F=[],I=G=L=J=""};K();for(var C=0,P=D.length;C<P;C++){A=D[C];if(E===0&&N.indexOf(A)>-1){continue}switch(A){case'"':B?B===A&&(B=null):B=A;break;case"(":if(B){break}if(E===0){E=1,J+=A;continue}H++;break;case")":if(B){break}if(E===1){if(H===0){E=0,J+=A,K();continue}H--}break;case",":if(B){break}if(E===0){K();continue}if(E===1&&H===0&&!I.match(/^url$/i)){F.push(L),L="",J+=A;continue}}J+=A,E===0?I+=A:L+=A}return K(),O},j.Util.Bounds=function(a){var f,c={};return a.getBoundingClientRect&&(f=a.getBoundingClientRect(),c.top=f.top,c.bottom=f.bottom||f.top+f.height,c.left=f.left,c.width=a.offsetWidth,c.height=a.offsetHeight),c},j.Util.OffsetBounds=function(a){var c=a.offsetParent?j.Util.OffsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+c.top,bottom:a.offsetTop+a.offsetHeight+c.top,left:a.offsetLeft+c.left,width:a.offsetWidth,height:a.offsetHeight}},j.Util.getCSS=function(a,c,h){p!==a&&(d=y.defaultView.getComputedStyle(a,null));var f=d[c];if(/^background(Size|Position)$/.test(c)){return x(f,a,c,h)}if(/border(Top|Bottom)(Left|Right)Radius/.test(c)){var i=f.split(" ");return i.length<=1&&(i[1]=i[0]),i.map(m)}return f},j.Util.resizeBounds=function(f,D,l,B,h){var C=l/B,A=f/D,E,c;return !h||h==="auto"?(E=l,c=B):C<A^h==="contain"?(c=B,E=B*A):(E=l,c=l/A),{width:E,height:c}},j.Util.BackgroundPosition=function(a,o,f,h,c){var l=v("backgroundPosition",a,o,f,h,c);return{left:l[0],top:l[1]}},j.Util.BackgroundSize=function(a,l,f,h){var c=v("backgroundSize",a,l,f,h);return{width:c[0],height:c[1]}},j.Util.Extend=function(a,f){for(var c in a){a.hasOwnProperty(c)&&(f[c]=a[c])}return f},j.Util.Children=function(a){var f;try{f=a.nodeName&&a.nodeName.toUpperCase()==="IFRAME"?a.contentDocument||a.contentWindow.document:function(h){var i=[];return h!==null&&function(l,A){var o=l.length,n=0;if(typeof A.length=="number"){for(var u=A.length;n<u;n++){l[o++]=A[n]}}else{while(A[n]!==q){l[o++]=A[n++]}}return l.length=o,l}(i,h),i}(a.childNodes)}catch(c){j.Util.log("html2canvas.Util.Children failed with exception: "+c.message),f=[]}return f},j.Util.isTransparent=function(a){return a==="transparent"||a==="rgba(0, 0, 0, 0)"},j.Util.Font=function(){var a={};return function(F,D,A){if(a[F+"-"+D]!==q){return a[F+"-"+D]}var E=A.createElement("div"),C=A.createElement("img"),G=A.createElement("span"),e="Hidden Text",n,B,h;return E.style.visibility="hidden",E.style.fontFamily=F,E.style.fontSize=D,E.style.margin=0,E.style.padding=0,A.body.appendChild(E),C.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",C.width=1,C.height=1,C.style.margin=0,C.style.padding=0,C.style.verticalAlign="baseline",G.style.fontFamily=F,G.style.fontSize=D,G.style.margin=0,G.style.padding=0,G.appendChild(A.createTextNode(e)),E.appendChild(G),E.appendChild(C),n=C.offsetTop-G.offsetTop+1,E.removeChild(G),E.appendChild(A.createTextNode(e)),E.style.lineHeight="normal",C.style.verticalAlign="super",B=C.offsetTop-E.offsetTop+1,h={baseline:n,lineWidth:1,middle:B},a[F+"-"+D]=h,A.body.removeChild(E),h}}(),function(){function a(i){return function(l){try{i.addColorStop(l.stop,l.color)}catch(e){f.log(["failed to add color stop: ",e,"; tried to add: ",l])}}}var f=j.Util,h={};j.Generate=h;var c=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];h.parseGradient=function(C,L){var G,J,K=c.length,H,M,i,D,F,A,E,I,B,N;for(J=0;J<K;J+=1){H=C.match(c[J]);if(H){break}}if(H){switch(H[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":G={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},i=H[2].match(/\w+/g);if(i){D=i.length;for(J=0;J<D;J+=1){switch(i[J]){case"top":G.y0=0,G.y1=L.height;break;case"right":G.x0=L.width,G.x1=0;break;case"bottom":G.y0=L.height,G.y1=0;break;case"left":G.x0=0,G.x1=L.width}}}G.x0===null&&G.x1===null&&(G.x0=G.x1=L.width/2),G.y0===null&&G.y1===null&&(G.y0=G.y1=L.height/2),i=H[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);if(i){D=i.length,F=1/Math.max(D-1,1);for(J=0;J<D;J+=1){A=i[J].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),A[2]?(M=parseFloat(A[2]),A[3]==="%"?M/=100:M/=L.width):M=J*F,G.colorStops.push({color:A[1],stop:M})}}break;case"-webkit-gradient":G={type:H[2]==="radial"?"circle":H[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},i=H[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),i&&(G.x0=i[1]*L.width/100,G.y0=i[2]*L.height/100,G.x1=i[3]*L.width/100,G.y1=i[4]*L.height/100),i=H[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g);if(i){D=i.length;for(J=0;J<D;J+=1){A=i[J].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),M=parseFloat(A[2]),A[1]==="from"&&(M=0),A[1]==="to"&&(M=1),G.colorStops.push({color:A[3],stop:M})}}break;case"-moz-linear-gradient":G={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},i=H[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),i&&(G.x0=i[1]*L.width/100,G.y0=i[2]*L.height/100,G.x1=L.width-G.x0,G.y1=L.height-G.y0),i=H[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g);if(i){D=i.length,F=1/Math.max(D-1,1);for(J=0;J<D;J+=1){A=i[J].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),A[2]?(M=parseFloat(A[2]),A[3]&&(M/=100)):M=J*F,G.colorStops.push({color:A[1],stop:M})}}break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":G={type:"circle",x0:0,y0:0,x1:L.width,y1:L.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},i=H[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),i&&(G.cx=i[1]*L.width/100,G.cy=i[2]*L.height/100),i=H[3].match(/\w+/),A=H[4].match(/[a-z\-]*/);if(i&&A){switch(A[0]){case"farthest-corner":case"cover":case"":E=Math.sqrt(Math.pow(G.cx,2)+Math.pow(G.cy,2)),I=Math.sqrt(Math.pow(G.cx,2)+Math.pow(G.y1-G.cy,2)),B=Math.sqrt(Math.pow(G.x1-G.cx,2)+Math.pow(G.y1-G.cy,2)),N=Math.sqrt(Math.pow(G.x1-G.cx,2)+Math.pow(G.cy,2)),G.rx=G.ry=Math.max(E,I,B,N);break;case"closest-corner":E=Math.sqrt(Math.pow(G.cx,2)+Math.pow(G.cy,2)),I=Math.sqrt(Math.pow(G.cx,2)+Math.pow(G.y1-G.cy,2)),B=Math.sqrt(Math.pow(G.x1-G.cx,2)+Math.pow(G.y1-G.cy,2)),N=Math.sqrt(Math.pow(G.x1-G.cx,2)+Math.pow(G.cy,2)),G.rx=G.ry=Math.min(E,I,B,N);break;case"farthest-side":i[0]==="circle"?G.rx=G.ry=Math.max(G.cx,G.cy,G.x1-G.cx,G.y1-G.cy):(G.type=i[0],G.rx=Math.max(G.cx,G.x1-G.cx),G.ry=Math.max(G.cy,G.y1-G.cy));break;case"closest-side":case"contain":i[0]==="circle"?G.rx=G.ry=Math.min(G.cx,G.cy,G.x1-G.cx,G.y1-G.cy):(G.type=i[0],G.rx=Math.min(G.cx,G.x1-G.cx),G.ry=Math.min(G.cy,G.y1-G.cy))}}i=H[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);if(i){D=i.length,F=1/Math.max(D-1,1);for(J=0;J<D;J+=1){A=i[J].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),A[2]?(M=parseFloat(A[2]),A[3]==="%"?M/=100:M/=L.width):M=J*F,G.colorStops.push({color:A[1],stop:M})}}}}return G},h.Gradient=function(D,F){if(F.width===0||F.height===0){return}var B=y.createElement("canvas"),G=B.getContext("2d"),E,H;B.width=F.width,B.height=F.height,E=j.Generate.parseGradient(D,F);if(E){switch(E.type){case"linear":H=G.createLinearGradient(E.x0,E.y0,E.x1,E.y1),E.colorStops.forEach(a(H)),G.fillStyle=H,G.fillRect(0,0,F.width,F.height);break;case"circle":H=G.createRadialGradient(E.cx,E.cy,0,E.cx,E.cy,E.rx),E.colorStops.forEach(a(H)),G.fillStyle=H,G.fillRect(0,0,F.width,F.height);break;case"ellipse":var e=y.createElement("canvas"),C=e.getContext("2d"),t=Math.max(E.rx,E.ry),A=t*2;e.width=e.height=A,H=C.createRadialGradient(E.rx,E.ry,0,E.rx,E.ry,t),E.colorStops.forEach(a(H)),C.fillStyle=H,C.fillRect(0,0,A,A),G.fillStyle=E.colorStops[E.colorStops.length-1].color,G.fillRect(0,0,B.width,B.height),G.drawImage(e,E.cx-E.rx,E.cy-E.ry,2*E.rx,2*E.ry)}}return B},h.ListAlpha=function(i){var o="",l;do{l=i%26,o=String.fromCharCode(l+64)+o,i/=26}while(i*26>26);return o},h.ListRoman=function(l){var C=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],u=[1000,900,500,400,100,90,50,40,10,9,5,4,1],A="",o,B=C.length;if(l<=0||l>=4000){return l}for(o=0;o<B;o+=1){while(l>=u[o]){l-=u[o],A+=C[o]}}return A}}(),j.Parse=function(aP,ar){function aS(){return Math.max(Math.max(aB.body.scrollWidth,aB.documentElement.scrollWidth),Math.max(aB.body.offsetWidth,aB.documentElement.offsetWidth),Math.max(aB.body.clientWidth,aB.documentElement.clientWidth))}function aH(){return Math.max(Math.max(aB.body.scrollHeight,aB.documentElement.scrollHeight),Math.max(aB.body.offsetHeight,aB.documentElement.offsetHeight),Math.max(aB.body.clientHeight,aB.documentElement.clientHeight))}function az(c,i){var h=parseInt(a1(c,i),10);return isNaN(h)?0:h}function ab(c,B,l,o,h,A){A!=="transparent"&&(c.setVariable("fillStyle",A),c.fillRect(B,l,o,h),ak+=1)}function ao(c,i,h){if(c.length>0){return i+h.toUpperCase()}}function aK(c,h){switch(h){case"lowercase":return c.toLowerCase();case"capitalize":return c.replace(/(^|\s|:|-|\(|\))([a-z])/g,ao);case"uppercase":return c.toUpperCase();default:return c}}function ae(c){return/^(normal|none|0px)$/.test(c)}function aZ(c,l,h,i){c!==null&&ad.trimText(c).length>0&&(i.fillText(c,l,h),ak+=1)}function aC(h,E,A,C){var l=!1,D=a1(E,"fontWeight"),B=a1(E,"fontFamily"),F=a1(E,"fontSize"),c=ad.parseTextShadows(a1(E,"textShadow"));switch(parseInt(D,10)){case 401:D="bold";break;case 400:D="normal"}h.setVariable("fillStyle",C),h.setVariable("font",[a1(E,"fontStyle"),a1(E,"fontVariant"),D,F,B].join(" ")),h.setVariable("textAlign",l?"right":"left"),c.length&&(h.setVariable("shadowColor",c[0].color),h.setVariable("shadowOffsetX",c[0].offsetX),h.setVariable("shadowOffsetY",c[0].offsetY),h.setVariable("shadowBlur",c[0].blur));if(A!=="none"){return ad.Font(B,F,aB)}}function al(c,s,l,o,h){switch(s){case"underline":ab(c,l.left,Math.round(l.top+o.baseline+o.lineWidth),l.width,1,h);break;case"overline":ab(c,l.left,Math.round(l.top),l.width,1,h);break;case"line-through":ab(c,l.left,Math.ceil(l.top+o.middle+o.lineWidth),l.width,1,h)}}function a6(c,D,l,B,h){var C;if(aq.rangeBounds&&!h){if(l!=="none"||ad.trimText(D).length!==0){C=t(D,c.node,c.textOffset)}c.textOffset+=D.length}else{if(c.node&&typeof c.node.nodeValue=="string"){var A=B?c.node.splitText(D.length):null;C=a2(c.node,h),c.node=A}}return C}function t(c,l,h){var i=aB.createRange();return i.setStart(l,h),i.setEnd(l,h+c.length),i.getBoundingClientRect()}function a2(c,B){var l=c.parentNode,o=aB.createElement("wrapper"),h=c.cloneNode(!0);o.appendChild(c.cloneNode(!0)),l.replaceChild(o,c);var A=B?ad.OffsetBounds(o):ad.Bounds(o);return l.replaceChild(h,o),A}function ah(h,F,B){var D=B.ctx,E=a1(h,"color"),C=a1(h,"textDecoration"),G=a1(h,"textAlign"),c,i,A={node:F,textOffset:0};ad.trimText(F.nodeValue).length>0&&(F.nodeValue=aK(F.nodeValue,a1(h,"textTransform")),G=G.replace(["-webkit-auto"],["auto"]),i=!ar.letterRendering&&/^(left|right|justify|auto)$/.test(G)&&ae(a1(h,"letterSpacing"))?F.nodeValue.split(/(\b| )/):F.nodeValue.split(""),c=aC(D,h,C,E),ar.chinese&&i.forEach(function(l,o){/.*[\u4E00-\u9FA5].*$/.test(l)&&(l=l.split(""),l.unshift(o,1),i.splice.apply(i,l))}),i.forEach(function(l,r){var o=a6(A,l,C,r<i.length-1,B.transform.matrix);o&&(aZ(l,o.left,o.bottom,D),al(D,C,o,c,E))}))}function aT(c,s){var l=aB.createElement("boundelement"),o,h;return l.style.display="inline",o=c.style.listStyleType,c.style.listStyleType="none",l.appendChild(aB.createTextNode(s)),c.insertBefore(l,c.firstChild),h=ad.Bounds(l),c.removeChild(l),c.style.listStyleType=o,h}function a4(c){var l=-1,h=1,i=c.parentNode.childNodes;if(c.parentNode){while(i[++l]!==c){i[l].nodeType===1&&h++}return h}return -1}function aV(c,l){var h=a4(c),i;switch(l){case"decimal":i=h;break;case"decimal-leading-zero":i=h.toString().length===1?h="0"+h.toString():h.toString();break;case"upper-roman":i=j.Generate.ListRoman(h);break;case"lower-roman":i=j.Generate.ListRoman(h).toLowerCase();break;case"lower-alpha":i=j.Generate.ListAlpha(h).toLowerCase();break;case"upper-alpha":i=j.Generate.ListAlpha(h)}return i+". "}function aF(c,D,l){var B,h,C=D.ctx,A=a1(c,"listStyleType"),E;if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(A)){h=aV(c,A),E=aT(c,h),aC(C,c,"none",a1(c,"color"));if(a1(c,"listStylePosition")!=="inside"){return}C.setVariable("textAlign","left"),B=l.left,aZ(h,B,E.bottom,C)}}function ac(c){var h=aP[c];return h&&h.succeeded===!0?h.img:!1}function ax(c,B){var l=Math.max(c.left,B.left),o=Math.max(c.top,B.top),h=Math.min(c.left+c.width,B.left+B.width),A=Math.min(c.top+c.height,B.top+B.height);return{left:l,top:o,width:h-l,height:A-o}}function aA(c,D,l){var B,h=D.cssPosition!=="static",C=h?a1(c,"zIndex"):"auto",A=a1(c,"opacity"),E=a1(c,"cssFloat")!=="none";D.zIndex=B=b(C),B.isPositioned=h,B.isFloated=E,B.opacity=A,B.ownStacking=C!=="auto"||A<1,l&&l.zIndex.children.push(D)}function f(h,E,A,C,l){var D=az(E,"paddingLeft"),B=az(E,"paddingTop"),F=az(E,"paddingRight"),c=az(E,"paddingBottom");aQ(h,A,0,0,A.width,A.height,C.left+D+l[3].width,C.top+B+l[0].width,C.width-(l[1].width+l[3].width+D+F),C.height-(l[0].width+l[2].width+B+c))}function aI(c){return["Top","Right","Bottom","Left"].map(function(h){return{width:az(c,"border"+h+"Width"),color:a1(c,"border"+h+"Color")}})}function aD(c){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(h){return a1(c,"border"+h+"Radius")})}function e(c,s,l,o){var h=function(i,A,r){return{x:i.x+(A.x-i.x)*r,y:i.y+(A.y-i.y)*r}};return{start:c,startControl:s,endControl:l,end:o,subdivide:function(D){var C=h(c,s,D),E=h(s,l,D),i=h(l,o,D),A=h(C,E,D),B=h(E,i,D),r=h(A,B,D);return[e(c,C,A,r),e(r,B,i,o)]},curveTo:function(i){i.push(["bezierCurve",s.x,s.y,l.x,l.y,o.x,o.y])},curveToReversed:function(i){i.push(["bezierCurve",l.x,l.y,s.x,s.y,c.x,c.y])}}}function af(c,D,l,B,h,C,A){D[0]>0||D[1]>0?(c.push(["line",B[0].start.x,B[0].start.y]),B[0].curveTo(c),B[1].curveTo(c)):c.push(["line",C,A]),(l[0]>0||l[1]>0)&&c.push(["line",h[0].start.x,h[0].start.y])}function aL(c,D,l,B,h,C,A){var E=[];return D[0]>0||D[1]>0?(E.push(["line",B[1].start.x,B[1].start.y]),B[1].curveTo(E)):E.push(["line",c.c1[0],c.c1[1]]),l[0]>0||l[1]>0?(E.push(["line",C[0].start.x,C[0].start.y]),C[0].curveTo(E),E.push(["line",A[0].end.x,A[0].end.y]),A[0].curveToReversed(E)):(E.push(["line",c.c2[0],c.c2[1]]),E.push(["line",c.c3[0],c.c3[1]])),D[0]>0||D[1]>0?(E.push(["line",h[1].end.x,h[1].end.y]),h[1].curveToReversed(E)):E.push(["line",c.c4[0],c.c4[1]]),E}function ap(D,P,K){var N=D.left,H=D.top,O=D.width,L=D.height,Q=P[0][0],A=P[0][1],E=P[1][0],I=P[1][1],B=P[2][0],G=P[2][1],M=P[3][0],C=P[3][1],R=O-E,J=L-G,F=O-B,S=L-C;return{topLeftOuter:a8(N,H,Q,A).topLeft.subdivide(0.5),topLeftInner:a8(N+K[3].width,H+K[0].width,Math.max(0,Q-K[3].width),Math.max(0,A-K[0].width)).topLeft.subdivide(0.5),topRightOuter:a8(N+R,H,E,I).topRight.subdivide(0.5),topRightInner:a8(N+Math.min(R,O+K[3].width),H+K[0].width,R>O+K[3].width?0:E-K[3].width,I-K[0].width).topRight.subdivide(0.5),bottomRightOuter:a8(N+F,H+J,B,G).bottomRight.subdivide(0.5),bottomRightInner:a8(N+Math.min(F,O+K[3].width),H+Math.min(J,L+K[0].width),Math.max(0,B-K[1].width),Math.max(0,G-K[2].width)).bottomRight.subdivide(0.5),bottomLeftOuter:a8(N,H+S,M,C).bottomLeft.subdivide(0.5),bottomLeftInner:a8(N+K[3].width,H+S,Math.max(0,M-K[3].width),Math.max(0,C-K[2].width)).bottomLeft.subdivide(0.5)}}function u(c,D,l,B,h){var C=a1(c,"backgroundClip"),A=[];switch(C){case"content-box":case"padding-box":af(A,B[0],B[1],D.topLeftInner,D.topRightInner,h.left+l[3].width,h.top+l[0].width),af(A,B[1],B[2],D.topRightInner,D.bottomRightInner,h.left+h.width-l[1].width,h.top+l[0].width),af(A,B[2],B[3],D.bottomRightInner,D.bottomLeftInner,h.left+h.width-l[1].width,h.top+h.height-l[2].width),af(A,B[3],B[0],D.bottomLeftInner,D.topLeftInner,h.left+l[3].width,h.top+h.height-l[2].width);break;default:af(A,B[0],B[1],D.topLeftOuter,D.topRightOuter,h.left,h.top),af(A,B[1],B[2],D.topRightOuter,D.bottomRightOuter,h.left+h.width,h.top),af(A,B[2],B[3],D.bottomRightOuter,D.bottomLeftOuter,h.left+h.width,h.top+h.height),af(A,B[3],B[0],D.bottomLeftOuter,D.topLeftOuter,h.left,h.top+h.height)}return A}function av(D,N,I){var L=N.left,G=N.top,M=N.width,J=N.height,O,A,E,H,B,F,K=aD(D),C=ap(N,K,I),P={clip:u(D,C,I,K,N),borders:[]};for(O=0;O<4;O++){if(I[O].width>0){A=L,E=G,H=M,B=J-I[2].width;switch(O){case 0:B=I[0].width,F=aL({c1:[A,E],c2:[A+H,E],c3:[A+H-I[1].width,E+B],c4:[A+I[3].width,E+B]},K[0],K[1],C.topLeftOuter,C.topLeftInner,C.topRightOuter,C.topRightInner);break;case 1:A=L+M-I[1].width,H=I[1].width,F=aL({c1:[A+H,E],c2:[A+H,E+B+I[2].width],c3:[A,E+B],c4:[A,E+I[0].width]},K[1],K[2],C.topRightOuter,C.topRightInner,C.bottomRightOuter,C.bottomRightInner);break;case 2:E=E+J-I[2].width,B=I[2].width,F=aL({c1:[A+H,E+B],c2:[A,E+B],c3:[A+I[3].width,E],c4:[A+H-I[3].width,E]},K[2],K[3],C.bottomRightOuter,C.bottomRightInner,C.bottomLeftOuter,C.bottomLeftInner);break;case 3:H=I[3].width,F=aL({c1:[A,E+B+I[2].width],c2:[A,E],c3:[A+H,E+I[0].width],c4:[A+H,E+B]},K[3],K[0],C.bottomLeftOuter,C.bottomLeftInner,C.topLeftOuter,C.topLeftInner)}P.borders.push({args:F,color:I[O].color})}}return P}function aj(c,i){var h=c.drawShape();return i.forEach(function(l,o){h[o===0?"moveTo":l[0]+"To"].apply(null,l.slice(1))}),h}function at(c,i,h){h!=="transparent"&&(c.setVariable("fillStyle",h),aj(c,i),c.fill(),ak+=1)}function aN(c,D,l){var B=aB.createElement("valuewrap"),h=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],C,A;h.forEach(function(o){try{B.style[o]=a1(c,o)}catch(i){ad.log("html2canvas: Parse: Exception caught in renderFormValue: "+i.message)}}),B.style.borderColor="black",B.style.borderStyle="solid",B.style.display="block",B.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(c.type)||c.nodeName==="SELECT"){B.style.lineHeight=a1(c,"height")}B.style.top=D.top+"px",B.style.left=D.left+"px",C=c.nodeName==="SELECT"?(c.options[c.selectedIndex]||0).text:c.value,C||(C=c.placeholder),A=aB.createTextNode(C),B.appendChild(A),ag.appendChild(B),ah(c,A,l),ag.removeChild(B)}function aQ(c){c.drawImage.apply(c,Array.prototype.slice.call(arguments,1)),ak+=1}function aX(l,B){var h=g.getComputedStyle(l,B);if(!h||!h.content||h.content==="none"||h.content==="-moz-alt-content"||h.display==="none"){return}var C=h.content+"",A=C.substr(0,1);A===C.substr(C.length-1)&&A.match(/'|"/)&&(C=C.substr(1,C.length-2));var D=C.substr(0,3)==="url",c=y.createElement(D?"img":"span");return c.className=aE+"-before "+aE+"-after",Object.keys(h).filter(a9).forEach(function(i){try{c.style[i]=h[i]}catch(o){ad.log(["Tried to assign readonly property ",i,"Error:",o])}}),D?c.src=ad.parseBackgroundImage(C)[0].args[0]:c.innerHTML=C,c}function a9(c){return isNaN(g.parseInt(c,10))}function a3(c,l){var h=aX(c,":before"),i=aX(c,":after");if(!h&&!i){return}h&&(c.className+=" "+aE+"-before",c.parentNode.insertBefore(h,c),aU(h,l,!0),c.parentNode.removeChild(h),c.className=c.className.replace(aE+"-before","").trim()),i&&(c.className+=" "+aE+"-after",c.appendChild(i),aU(i,l,!0),c.removeChild(i),c.className=c.className.replace(aE+"-after","").trim())}function a5(c,B,l,o){var h=Math.round(o.left+l.left),A=Math.round(o.top+l.top);c.createPattern(B),c.translate(h,A),c.fill(),c.translate(-h,-A)}function a0(h,E,A,C,l,D,B,F){var c=[];c.push(["line",Math.round(l),Math.round(D)]),c.push(["line",Math.round(l+B),Math.round(D)]),c.push(["line",Math.round(l+B),Math.round(F+D)]),c.push(["line",Math.round(l),Math.round(F+D)]),aj(h,c),h.save(),h.clip(),a5(h,E,A,C),h.restore()}function a(c,i,h){ab(c,i.left,i.top,i.width,i.height,h)}function aw(c,D,l,B,h){var C=ad.BackgroundSize(c,D,B,h),A=ad.BackgroundPosition(c,D,B,h,C),E=a1(c,"backgroundRepeat").split(",").map(ad.trimText);B=aO(B,C),E=E[h]||E[0];switch(E){case"repeat-x":a0(l,B,A,D,D.left,D.top+A.top,99999,B.height);break;case"repeat-y":a0(l,B,A,D,D.left+A.left,D.top,B.width,99999);break;case"no-repeat":a0(l,B,A,D,D.left+A.left,D.top+A.top,B.width,B.height);break;default:a5(l,B,A,{top:D.top,left:D.left,width:B.width,height:B.height})}}function ay(c,D,l){var B=a1(c,"backgroundImage"),h=ad.parseBackgroundImage(B),C,A=h.length;while(A--){B=h[A];if(!B.args||B.args.length===0){continue}var E=B.method==="url"?B.args[0]:B.value;C=ac(E),C?aw(c,D,l,C,A):ad.log("html2canvas: Error loading background:",B)}}function aO(c,l){if(c.width===l.width&&c.height===l.height){return c}var h,i=aB.createElement("canvas");return i.width=l.width,i.height=l.height,h=i.getContext("2d"),aQ(h,c,0,0,c.width,c.height,0,0,l.width,l.height),i}function am(c,i,h){return c.setVariable("globalAlpha",a1(i,"opacity")*(h?h.opacity:1))}function a7(c){return c.replace("px","")}function ba(c,B){var l=a1(c,"transform")||a1(c,"-webkit-transform")||a1(c,"-moz-transform")||a1(c,"-ms-transform")||a1(c,"-o-transform"),o=a1(c,"transform-origin")||a1(c,"-webkit-transform-origin")||a1(c,"-moz-transform-origin")||a1(c,"-ms-transform-origin")||a1(c,"-o-transform-origin")||"0px 0px";o=o.split(" ").map(a7).map(ad.asFloat);var h;if(l&&l!=="none"){var A=l.match(aa);if(A){switch(A[1]){case"matrix":h=A[2].split(",").map(ad.trimText).map(ad.asFloat)}}}return{origin:o,matrix:h}}function ai(h,s,l,o){var c=z(s?l.width:aS(),s?l.height:aH()),i={ctx:c,opacity:am(c,h,s),cssPosition:a1(h,"position"),borders:aI(h),transform:o,clip:s&&s.clip?ad.Extend({},s.clip):null};return aA(h,i,s),ar.useOverflow===!0&&/(hidden|scroll|auto)/.test(a1(h,"overflow"))===!0&&/(BODY)/i.test(h.nodeName)===!1&&(i.clip=i.clip?ax(i.clip,l):l),i}function aW(c,l,h){var i={left:l.left+c[3].width,top:l.top+c[0].width,width:l.width-(c[1].width+c[3].width),height:l.height-(c[0].width+c[2].width)};return h&&(i=ax(i,h)),i}function aG(c,i){var h=i.matrix?ad.OffsetBounds(c):ad.Bounds(c);return i.origin[0]+=h.left,i.origin[1]+=h.top,h}function aR(C,L,H,J){var F=ba(C,L),K=aG(C,F),I,M=ai(C,L,K,F),A=M.borders,D=M.ctx,G=aW(A,K,M.clip),B=av(C,K,A),E=aM.test(C.nodeName)?"#efefef":a1(C,"backgroundColor");aj(D,B.clip),D.save(),D.clip(),G.height>0&&G.width>0&&!J?(a(D,K,E),ay(C,G,D)):J&&(M.backgroundColor=E),D.restore(),B.borders.forEach(function(c){at(D,c.args,c.color)}),H||a3(C,M);switch(C.nodeName){case"IMG":(I=ac(C.getAttribute("src")))?f(D,C,I,K,A):ad.log("html2canvas: Error loading <img>:"+C.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(C.type)&&(C.value||C.placeholder||"").length>0&&aN(C,K,M);break;case"TEXTAREA":(C.value||C.placeholder||"").length>0&&aN(C,K,M);break;case"SELECT":(C.options||C.placeholder||"").length>0&&aN(C,K,M);break;case"LI":aF(C,M,G);break;case"CANVAS":f(D,C,C,K,A)}return M}function au(c){return a1(c,"display")!=="none"&&a1(c,"visibility")!=="hidden"&&!c.hasAttribute("data-html2canvas-ignore")}function aU(c,i,h){au(c)&&(i=aR(c,i,h,!1)||i,aM.test(c.nodeName)||aJ(c,i,h))}function aJ(c,i,h){ad.Children(c).forEach(function(l){l.nodeType===l.ELEMENT_NODE?aU(l,i,h):l.nodeType===l.TEXT_NODE&&ah(c,l,i)})}function aY(){var c=a1(y.documentElement,"backgroundColor"),h=ad.isTransparent(c)&&n===y.body,i=aR(n,null,!1,h);return aJ(n,i),h&&(c=i.backgroundColor),ag.removeChild(an),{backgroundColor:c,stack:i}}g.scroll(0,0);var n=ar.elements===q?y.body:ar.elements[0],ak=0,aB=n.ownerDocument,ad=j.Util,aq=ad.Support(ar,aB),aM=new RegExp("("+ar.ignoreElements+")"),ag=aB.body,a1=ad.getCSS,aE="___html2canvas___pseudoelement",an=aB.createElement("style");an.innerHTML="."+aE+'-before:before { content: "" !important; display: none !important; }.'+aE+'-after:after { content: "" !important; display: none !important; }',ag.appendChild(an),aP=aP||{};var a8=function(c){return function(E,A,C,l){var D=C*c,B=l*c,F=E+C,h=A+l;return{topLeft:e({x:E,y:h},{x:E,y:h-B},{x:F-D,y:A},{x:F,y:A}),topRight:e({x:E,y:A},{x:E+D,y:A},{x:F,y:h-B},{x:F,y:h}),bottomRight:e({x:F,y:A},{x:F,y:A+B},{x:E+D,y:h},{x:E,y:h}),bottomLeft:e({x:F,y:h},{x:F-D,y:h},{x:E,y:A+B},{x:E,y:A})}}}(4*((Math.sqrt(2)-1)/3)),aa=/(matrix)\((.+)\)/;return aY()},j.Preload=function(O){function G(a){K.href=a,K.href=K.href;var c=K.protocol+K.host;return c===J}function P(){D.log("html2canvas: start: images: "+V.numLoaded+" / "+V.numTotal+" (failed: "+V.numFailed+")"),!V.firstRun&&V.numLoaded>=V.numTotal&&(D.log("Finished loading images: # "+V.numTotal+" (failed: "+V.numFailed+")"),typeof O.complete=="function"&&O.complete(V))}function L(s,l,r){var C,c=O.proxy,h;K.href=s,s=K.href,C="html2canvas_"+W++,r.callbackname=C,c.indexOf("?")>-1?c+="&":c+="?",c+="url="+encodeURIComponent(s)+"&callback="+C,h=Q.createElement("script"),g[C]=function(i){i.substring(0,6)==="error:"?(r.succeeded=!1,V.numLoaded++,V.numFailed++,P()):(A(l,r),l.src=i),g[C]=q;try{delete g[C]}catch(a){}h.parentNode.removeChild(h),h=null,delete r.script,delete r.callbackname},h.setAttribute("type","text/javascript"),h.setAttribute("src",c),r.script=h,g.document.body.appendChild(h)}function U(l,c){var h=g.getComputedStyle(l,c),a=h.content;a.substr(0,3)==="url"&&Y.loadImage(j.Util.parseBackgroundImage(a)[0].args[0]),F(h.backgroundImage,l)}function e(a){U(a,":before"),U(a,":after")}function I(a,h){var c=j.Generate.Gradient(a,h);c!==q&&(V[a]={img:c,succeeded:!0},V.numTotal++,V.numLoaded++,P())}function n(a){return a&&a.method&&a.args&&a.args.length>0}function F(a,h){var c;j.Util.parseBackgroundImage(a).filter(n).forEach(function(i){i.method==="url"?Y.loadImage(i.args[0]):i.method.match(/\-?gradient$/)&&(c===q&&(c=j.Util.Bounds(h)),I(i.value,c))})}function M(a){var l=!1;try{D.Children(a).forEach(M)}catch(h){}try{l=a.nodeType}catch(c){l=!1,D.log("html2canvas: failed to access some element's nodeType - Exception: "+c.message)}if(l===1||l===q){e(a);try{F(D.getCSS(a,"backgroundImage"),a)}catch(h){D.log("html2canvas: failed to get background-image - Exception: "+h.message)}F(a)}}function A(c,a){c.onload=function(){a.timer!==q&&g.clearTimeout(a.timer),V.numLoaded++,a.succeeded=!0,c.onerror=c.onload=null,P()},c.onerror=function(){if(c.crossOrigin==="anonymous"){g.clearTimeout(a.timer);if(O.proxy){var h=c.src;c=new Image,a.img=c,c.src=h,L(c.src,c,a);return}}V.numLoaded++,V.numFailed++,a.succeeded=!1,c.onerror=c.onload=null,P()}}var V={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},J,D=j.Util,Y,f,W=0,B=O.elements[0]||y.body,Q=B.ownerDocument,X=B.getElementsByTagName("img"),R=X.length,K=Q.createElement("a"),t=function(a){return a.crossOrigin!==q}(new Image),H;K.href=g.location.href,J=K.protocol+K.host,Y={loadImage:function(a){var h,c;a&&V[a]===q&&(h=new Image,a.match(/data:image\/.*;base64,/i)?(h.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),c=V[a]={img:h},V.numTotal++,A(h,c)):G(a)||O.allowTaint===!0?(c=V[a]={img:h},V.numTotal++,A(h,c),h.src=a):t&&!O.allowTaint&&O.useCORS?(h.crossOrigin="anonymous",c=V[a]={img:h},V.numTotal++,A(h,c),h.src=a):O.proxy&&(c=V[a]={img:h},V.numTotal++,L(a,h,c)))},cleanupDOM:function(h){var l,r;if(!V.cleanupDone){h&&typeof h=="string"?D.log("html2canvas: Cleanup because: "+h):D.log("html2canvas: Cleanup after timeout: "+O.timeout+" ms.");for(r in V){if(V.hasOwnProperty(r)){l=V[r];if(typeof l=="object"&&l.callbackname&&l.succeeded===q){g[l.callbackname]=q;try{delete g[l.callbackname]}catch(c){}l.script&&l.script.parentNode&&(l.script.setAttribute("src","about:blank"),l.script.parentNode.removeChild(l.script)),V.numLoaded++,V.numFailed++,D.log("html2canvas: Cleaned up failed img: '"+r+"' Steps: "+V.numLoaded+" / "+V.numTotal)}}}g.stop!==q?g.stop():y.execCommand!==q&&y.execCommand("Stop",!1),y.close!==q&&y.close(),V.cleanupDone=!0,(!h||typeof h!="string")&&P()}},renderingDone:function(){H&&g.clearTimeout(H)}},O.timeout>0&&(H=g.setTimeout(Y.cleanupDOM,O.timeout)),D.log("html2canvas: Preload starts: finding background-images"),V.firstRun=!0,M(B),D.log("html2canvas: Preload: Finding images");for(f=0;f<R;f+=1){Y.loadImage(X[f].getAttribute("src"))}return V.firstRun=!1,D.log("html2canvas: Preload: Done."),V.numTotal===V.numLoaded&&P(),Y},j.Renderer=function(a,f){function c(l){function s(i){Object.keys(i).sort().forEach(function(t){var r=[],B=[],A=[],C=[];i[t].forEach(function(u){u.node.zIndex.isPositioned||u.node.zIndex.opacity<1?A.push(u):u.node.zIndex.isFloated?B.push(u):r.push(u)}),function e(u){u.forEach(function(D){C.push(D),D.children&&e(D.children)})}(r.concat(B,A)),C.forEach(function(u){u.context?s(u.context):o.push(u.node)})})}var o=[],n;return n=function(i){function A(B,G,D){var H=G.zIndex.zindex==="auto"?0:Number(G.zIndex.zindex),F=B,I=G.zIndex.isPositioned,t=G.zIndex.isFloated,C={node:G},E=D;if(G.zIndex.ownStacking){F=C.context={"!":[{node:G,children:[]}]},E=q}else{if(I||t){E=C.children=[]}}H===0&&D?D.push(C):(B[H]||(B[H]=[]),B[H].push(C)),G.zIndex.children.forEach(function(r){A(F,r,E)})}var u={};return A(u,i),u}(l),s(n),o}function h(i){var l;if(typeof f.renderer=="string"&&j.Renderer[i]!==q){l=j.Renderer[i](f)}else{if(typeof i!="function"){throw new Error("Unknown renderer")}l=i(f)}if(typeof l!="function"){throw new Error("Invalid renderer defined")}return l}return h(f.renderer)(a,f,y,c(a.stack),j)},j.Util.Support=function(a,h){function f(){var l=new Image,o=h.createElement("canvas"),n=o.getContext===q?!1:o.getContext("2d");if(n===!1){return !1}o.width=o.height=10,l.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{n.drawImage(l,0,0),o.toDataURL()}catch(t){return !1}return j.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function c(){var l,t,u,o,A=!1;return h.createRange&&(l=h.createRange(),l.getBoundingClientRect&&(t=h.createElement("boundtest"),t.style.height="123px",t.style.display="block",h.body.appendChild(t),l.selectNode(t),u=l.getBoundingClientRect(),o=u.height,o===123&&(A=!0),h.body.removeChild(t))),A}return{rangeBounds:c(),svgRendering:a.svgRendering&&f()}},g.html2canvas=function(h,c){h=h.length?h:[h];var e,a,f={logging:!1,elements:h,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return f=j.Util.Extend(c,f),j.logging=f.logging,f.complete=function(i){if(typeof f.onpreloaded=="function"&&f.onpreloaded(i)===!1){return}e=j.Parse(i,f);if(typeof f.onparsed=="function"&&f.onparsed(e)===!1){return}a=j.Renderer(e,f),typeof f.onrendered=="function"&&f.onrendered(a)},g.setTimeout(function(){j.Preload(f)},0),{render:function(i,l){return j.Renderer(i,j.Util.Extend(l,f))},parse:function(i,l){return j.Parse(i,j.Util.Extend(l,f))},preload:function(i){return j.Preload(j.Util.Extend(i,f))},log:j.Util.log}},g.html2canvas.log=j.Util.log,g.html2canvas.Renderer={Canvas:q},j.Renderer.Canvas=function(t){function E(a,c){a.beginPath(),c.forEach(function(e){a[e.name].apply(a,e.arguments)}),a.closePath()}function B(a){if(G.indexOf(a.arguments[0].src)===-1){C.drawImage(a.arguments[0],0,0);try{C.getImageData(0,0,1,1)}catch(c){return f=D.createElement("canvas"),C=f.getContext("2d"),!1}G.push(a.arguments[0].src)}return !0}function F(e,a){switch(a.type){case"variable":e[a.name]=a.arguments;break;case"function":switch(a.name){case"createPattern":if(a.arguments[0].width>0&&a.arguments[0].height>0){try{e.fillStyle=e.createPattern(a.arguments[0],"repeat")}catch(c){n.log("html2canvas: Renderer: Error creating pattern",c.message)}}break;case"drawShape":E(e,a.arguments);break;case"drawImage":a.arguments[8]>0&&a.arguments[7]>0&&(!t.taintTest||t.taintTest&&B(a))&&e.drawImage.apply(e,a.arguments);break;default:e[a.name].apply(e,a.arguments)}}}t=t||{};var D=y,G=[],f=y.createElement("canvas"),C=f.getContext("2d"),n=j.Util,A=t.canvas||D.createElement("canvas");return function(h,M,L,H,J){var N=A.getContext("2d"),c,s,I,K=h.stack;return A.width=A.style.width=M.width||K.ctx.width,A.height=A.style.height=M.height||K.ctx.height,I=N.fillStyle,N.fillStyle=n.isTransparent(K.backgroundColor)&&M.background!==q?M.background:h.backgroundColor,N.fillRect(0,0,A.width,A.height),N.fillStyle=I,H.forEach(function(a){N.textBaseline="bottom",N.save(),a.transform.matrix&&(N.translate(a.transform.origin[0],a.transform.origin[1]),N.transform.apply(N,a.transform.matrix),N.translate(-a.transform.origin[0],-a.transform.origin[1])),a.clip&&(N.beginPath(),N.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height),N.clip()),a.ctx.storage&&a.ctx.storage.forEach(function(i){F(N,i)}),N.restore()}),n.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),M.elements.length===1&&typeof M.elements[0]=="object"&&M.elements[0].nodeName!=="BODY"?(s=J.Util.Bounds(M.elements[0]),c=L.createElement("canvas"),c.width=Math.ceil(s.width),c.height=Math.ceil(s.height),N=c.getContext("2d"),N.drawImage(A,s.left,s.top,s.width,s.height,0,0,s.width,s.height),A=null,c):A}}})(window,document);var detectEdge=function(){function a(Q,am,ak){var ag=c.createImageData(f,b),ao=Q.width,n=Q.height,U=Q.data,ab=ag.data,G=ao*4,X=G+4,ai=n-1,J=ao-1,ap=new Date;for(var ad=1;ad<ai;++ad){var W=X-4,at=W-G,r=W+G,aq=-U[at]-U[W]-U[r],R=-U[++at]-U[++W]-U[++r],al=-U[++at]-U[++W]-U[++r],ar=U[at+=2],an=U[W+=2],af=U[r+=2],I=-ar-an-af,aa=U[++at],ac=U[++W],q=U[++r],ah=-aa-ac-q,ae=U[++at],i=U[++W],K=U[++r],aj=-ae-i-K;for(var Y=1;Y<J;++Y){W=X+4,at=W-G,r=W+G;var z=am+aq-ar-an*-8-af,Z=am+R-aa-ac*-8-q,V=am+al-ae-i*-8-K;aq=I,R=ah,al=aj,ar=U[at],an=U[W],af=U[r],I=-ar-an-af,aa=U[++at],ac=U[++W],q=U[++r],ah=-aa-ac-q,ae=U[++at],i=U[++W],K=U[++r],aj=-ae-i-K,ak?(factor=0.3*(z+I)+0.59*(Z+ah)+0.11*(V+aj),ab[X]=factor,ab[++X]=factor,ab[++X]=factor):(ab[X]=z+I,ab[++X]=Z+ah,ab[++X]=V+aj),ab[++X]=255,++X}X+=8}return ag}function h(q){var k=q.width,m=q.height,j=a(q,255,1),p=j.data,l=0;for(var v=0;v<m;++v){for(var e=0;e<k;++e){p[l]<240?(p[l]=0,p[++l]=0,p[++l]=0):(p[l]=255,p[++l]=255,p[++l]=255),p[++l]=255,++l}}return j}var c,f,b,g,d;return function(k){f=k.width,b=k.height,d=new Array(f),g=new Array(f),c=k.getContext("2d");var p=c.getImageData(0,0,f,b),i=h(p),m=i.data;for(var o=0;o<f;o++){g[o]=new Array(b),d[o]=new Array(b);for(var j=0;j<b;j++){d[o][j]=0;var n=(j*f+o)*4;m[n]<255||m[n+1]<255||m[n+2]<255?(g[o][j]=!0,m[n]=m[n+1]=m[n+2]=255):m[n]=m[n+1]=m[n+2]=0}}return c.putImageData(i,0,0),{dropPoints:g,dropCount:d,cw:f,ch:b}}}();Animation=function(){function a(i,k){i&&typeof i=="function"&&(b=i,g=k)}function h(i){return window.requestAnimationFrame?function(){window.requestAnimationFrame(i)}:window.msRequestAnimationFrame?function(){window.msRequestAnimationFrame(i)}:window.webkitRequestAnimationFrame?function(){window.webkitRequestAnimationFrame(i)}:window.mozRequestAnimationFrame?function(){window.mozRequestAnimationFrame(i)}:function(){setTimeout(i,d)}}function c(){b(g),j()}function f(){j=h(c),j()}var b,g,d=16.7,j;return{addFrameRenderer:a,start:f}}(),Snowflakes=function(){function W(a,b){var c=new Image;c.onload=function(){for(var e=0;e<ab;e++){var f=document.createElement("canvas");f.width=ap,f.height=U;var d=f.getContext("2d");d.drawImage(c,e*ap,0,ap,U,0,0,ap,U),Q.push(f)}a&&(ax=a),b||(an=[]);for(var e=0;e<ax;e++){an.push(av())}},c.src=ah}function av(){var a=Math.random()*(X-az)+az,c=Math.random()*ay.width,b=Math.random()*ay.height;return{x:c,y:b,vv:Math.random()*(aa-aj)+aj,hv:Math.random()*(J-aB)+aB,sw:a*ap,sh:a*U,hsw:a*ap*0.5,hsh:a*U*0.5,mhd:Math.random()*(aA-au)+au,hd:0,hdi:Math.random()/(J*au),o:Math.random()*(am-aw)+aw,oi:Math.random()/R,si:Math.ceil(Math.random()*(ab-1)),nl:!1}}function al(a){aq.globalAlpha=a.o,aq.drawImage(Q[a.si],0,0,ap,U,a.x,a.y,a.sw,a.sh)}function ar(){for(var a=0;a<an.length;a++){var f=an[a],c=parseInt(f.x+f.hsw),b=parseInt(f.y+f.hsh);if(af[c]&&af[c][b]&&!Z[c][b]){var d=0;Z[c]&&Z[c][b-1]&&(d+=1),Z[c+1]&&Z[c+1][b-1]&&(d+=1),Z[c+1]&&Z[c+1][b]&&(d+=1),Z[c+1]&&Z[c+1][b+1]&&(d+=1),Z[c]&&Z[c][b+1]&&(d+=1),Z[c-1]&&Z[c-1][b+1]&&(d+=1),Z[c-1]&&Z[c-1][b]&&(d+=1),Z[c-1]&&Z[c-1][b-1]&&(d+=1);if(d*Math.random()<1){Z[c][b]=1,al(f),f.y=0,f.x=Math.random()*ay.width;continue}}f.y+=f.vv*G,f.x+=(f.hd+f.hv)*G,f.hd+=f.hdi;if(f.hd<-f.mhd||f.hd>f.mhd){f.hdi=-f.hdi}f.o+=f.oi;if(f.o>am||f.o<aw){f.oi=-f.oi}f.o>am&&(f.o=am),f.o<aw&&(f.o=aw);var g=!1;f.y>ay.height+U/2&&(f.y=0,g=!0),f.y<0&&(f.y=ay.height,g=!0),f.x>ay.width+ap/2&&(f.x=0,g=!0),f.x<0&&(f.x=ay.width,g=!0),g&&(f.nl=!1)}}function ad(a){ar(),a.clearRect(0,0,a.canvas.width,a.canvas.height);for(var c=0;c<an.length;c++){var b=an[c];a.globalAlpha=b.o,a.drawImage(Q[b.si],0,0,ap,U,b.x,b.y,b.sw,b.sh)}}function at(b){var a="position:absolute;left:0;top:0;z-index:100001;pointer-events: none;";ay.width=b.cw,ay.height=b.ch,W(b.flakeCount),V=document.createElement("canvas"),ac=document.createElement("canvas"),V.style.cssText=a,ac.style.cssText=a,document.body.appendChild(V),document.body.appendChild(ac),aq=V.getContext("2d"),K=ac.getContext("2d"),V.width=ac.width=b.cw,V.height=ac.height=b.ch,af=b.dropPoints,Z=b.dropCount,ae=b.maxPointDrop,Animation.addFrameRenderer(ad,K),Animation.start()}var an=[],ax=1,z=0.1,Y=2,ah="http://p8.qhimg.com/d/inn/43158a81/Snowflakes.png",Q=[],ab=5,ap=20,U=20,ay={},aj=1,aa=4,aB=-1,J=3,az=0.2,X=1.25,au=2,aA=3,aw=0.2,am=0.9,R=50,ag=60,ai=0,G=1,ao=0.1,ak=1.5,q=0.05,V,aq,ac,K,af,Z,ae;return{init:at}}(),html2canvas([document.body],{onrendered:function(a){try{var c=detectEdge(a);c.flakeCount=200,Snowflakes.init(c)}catch(b){}}});